var APP=APP||{};APP._nameSpace="APP",APP.delegate=function(scope,method){var methodArguments,i,argumentsLength=arguments.length;if(argumentsLength>2){for(methodArguments=[],i=2;argumentsLength>i;i++)methodArguments.push(arguments[i]);return function(){method.apply(scope,methodArguments)}}return function(){method.apply(scope,arguments)}},APP.init=function(Module){var modulesLength=arguments.length;void 0!==Module&&Module!==APP&&APP.setUp(),0==modulesLength||1==modulesLength?this.readModule(Module||APP):modulesLength>1&&APP.readModule.apply(this,arguments)},APP.setUp=function(){},APP.readModule=function(Module){var node,i=0;{if(!(arguments.length>1)){if("object"!=typeof Module)return!1;if(!Module.hasOwnProperty("setUp")||"function"!=typeof Module.setUp)return!1;Module.setUp();for(node in Module)Module.hasOwnProperty(node)===!0&&null!==Module[node]&&"object"==typeof Module[node]&&(Module[node].parent=function(){return Module},Module[node]._nameSpace=(Module._nameSpace||"APP")+"."+node,APP.readModule(Module[node]));return!1}for(;i<arguments.length;i++)APP.readModule(arguments[i])}},APP.initModuleByNamespace=function(namespace){var argumentsLength,iArguments,argumentsArray;for(argumentsArray=[],iArguments=0;argumentsLength>iArguments;iArguments++)argumentsArray.push(APP.getByNamespace(arguments[iArguments]));APP.init.apply(this,argumentsArray)},APP.getByNamespace=function(namespace){var spaces,spacesLength,iSpace,space,target;if(spaces=namespace.split("."),"APP"!=spaces.shift())return null;for(spacesLength=spaces.length,target=this,iSpace=0;spacesLength>iSpace;iSpace++)space=spaces[iSpace],target.hasOwnProperty(space)&&(target=target[space]);return target},APP.applyByNamespace=function(nameSpace,params){var node,nodes,scopes,target,i;for(void 0!==params&&params instanceof Array==!1&&(params=[params]),scopes=[window],nodes=nameSpace.split("."),i=0;i<nodes.length;i++)node=nodes[i],scopes[i].hasOwnProperty(node)&&scopes.push(scopes[i][node]);return target=scopes.pop(),"function"==typeof target?target.apply(scopes.pop(),params||[]):target};var APP=APP||{};APP.Status={setUp:function(){var handlerStatus;handlerStatus=APP.delegate(this,this.getStatus),$(window).on("online offline",handlerStatus)},getStatus:function(){var that=this;1==navigator.onLine?that.statusOn():that.statusOff()},statusOn:function(){var body;body=document.querySelector("body"),body.classList.remove("js-offline"),body.removeAttribute("data-status"),APP.Storage.searchToSend()},statusOff:function(){var body;body=document.querySelector("body"),body.classList.add("js-offline"),body.setAttribute("data-status","Você parece não possuir acesso a internet :(")}};var APP=APP||{};APP.Cache={setUp:function(){this.handlerUpdate()},handlerUpdate:function(){var that,appCache;that=this,appCache=window.applicationCache,appCache.addEventListener("cached",that.handleCachedEvent,!1),appCache.addEventListener("checking",that.handleCacheChecking,!1),appCache.addEventListener("downloading",that.handleCacheDownloading,!1),appCache.addEventListener("error",that.handleCacheError,!1),appCache.addEventListener("noupdate",that.handleCacheNoupdate,!1),appCache.addEventListener("obsolete",that.handleCacheObsolete,!1),appCache.addEventListener("progress",that.handleCacheProgress,!1),appCache.addEventListener("updateready",that.handleCacheUpdateready,!1)},handleCachedEvent:function(){console.log(event)},handleCacheChecking:function(){console.log(event)},handleCacheDownloading:function(){console.log(event)},handleCacheError:function(){console.warn(error)},handleCacheNoupdate:function(){console.log(event)},handleCacheObsolete:function(){console.log(event)},handleCacheProgress:function(){console.log(event)},handleCacheUpdateready:function(){var appCache=window.applicationCache;appCache.swapCache(),confirm("Existe uma nova versão para este site, deseja atualizar?")&&window.location.reload()}};var APP=APP||{};APP.Language={setUp:function(){this.startLanguage(),this.changeLanguage()},startLanguage:function(){i18n.init({fallbackLng:"en-US",debug:!1,fixLng:!0,load:"current"},function(translation){var appName,string;$("[data-i18n]").i18n(),appName=translation("app.name"),string=document.cookie,-1!=string.indexOf("i18next=pt-BR")?(APP.Language.i18pt(),$(".pt").addClass("js-active")):(APP.Language.i18en(),$(".en").addClass("js-active"))})},i18en:function(){i18n.setLng("en-US",{fixLng:!0},function(translation){$("[data-i18n]").i18n()}),$("#logo-primary").removeClass("js-logo-pt"),$("#logo-primary").addClass("js-logo-en"),$(".nav-logo").css("background-image","url(dist/images/logo-primary-2-en.png)"),$(".navbar-brand").css("background-image","url(dist/images/logo-primary-2-en.png)")},i18pt:function(){i18n.setLng("pt-BR",{fixLng:!0},function(translation){$("[data-i18n]").i18n()}),$("#logo-primary").removeClass("js-logo-en"),$("#logo-primary").addClass("js-logo-pt"),$(".nav-logo").css("background-image","url(dist/images/logo-primary-2-pt.png)"),$(".navbar-brand").css("background-image","url(dist/images/logo-primary-2-pt.png)")},activeClass:function(element){$("#switch-language button").removeClass("js-active"),$(element).addClass("js-active")},changeLanguage:function(){var attr,element;$("#switch-language").on("click","button",function(event){element=this,attr=$(this).attr("data-language"),"en"==attr?(APP.Language.activeClass(element),APP.Language.i18en()):"pt"==attr&&(APP.Language.activeClass(element),APP.Language.i18pt())})}};var APP=APP||{};APP.Tracking={setUp:function(){this.initTracking()},initTracking:function(){var category,action;$("[data-track]").on("click",function(){category=$(this).attr("data-track"),action=$(this).attr("data-action"),ga("send","event",category,action)})}};var APP=APP||{};APP.Twitter={setUp:function(){this.getData()},getData:function(){function inserTweets(tweets){for(var i=0;i<tweets.length;i++){var tweet=tweets[i];that.createStructure(tweet)}APP.Scroll.progressBar()}var that=this,tweets={id:"562454560720302080",maxTweets:7,enableLinks:!0,showUser:!0,showImages:!1,showTime:!1,showInteraction:!1,customCallback:inserTweets};twitterFetcher.fetch(tweets)},createStructure:function(tweet){var feedsList=document.querySelector("#feeds-twitter ul"),li=document.createElement("li");li.classList.add("feeds-twitter-item"),li.innerHTML=tweet,feedsList.appendChild(li)}};var APP=APP||{};APP.Instagram={setUp:function(){this.setConfig(),this.handlebarsModal()},setConfig:function(){var that,limit,size,tag,url,accessToken;that=this,limit=16,size="medium",tag="catrina",accessToken="181941196.5b9e1e6.c4df4ed6d9494b9a817be3ee7d046127",url="https://api.instagram.com/v1/tags/"+tag+"/media/recent?access_token="+accessToken,that.getData(limit,size,url)},getData:function(limit,size,url){var that=this;$.ajax({type:"GET",dataType:"jsonp",cache:!1,url:url,beforeSend:function(){},success:function(data){0===data.data.length?alert("Não existem imagens!"):that.template(data,limit,size)},error:function(error){console.warn(error)}})},handlebarsModal:function(){var source,template,data,output;source=document.getElementById("modal-template").innerHTML,template=Handlebars.compile(source),data={title:"Título usando Handlebars",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. At voluptatibus totam modi ullam est commodi debitis optio officiis ad, voluptates illum pariatur iure doloremque, nemo harum? Ipsa optio, saepe quo modi earum laudantium. Saepe, nesciunt. Alias voluptatum ipsam dolorum, error!"},output=template(data),document.getElementById("modal").innerHTML=output},template:function(data,limit,size){var source,template,output,photos;source=document.getElementById("instagram-template").innerHTML,template=Handlebars.compile(source),photos=[];for(var i=0;limit>i;i++){var href=data.data[i].link,imgUrl=data.data[i].images.thumbnail.url,likes=data.data[i].likes.count,text=data.data[i].caption.text;photos.push({href:href,imgUrl:imgUrl,likes:likes,text:text}),output=template({photos:photos}),document.getElementById("feeds-instagram").innerHTML=output}}};var APP=APP||{};APP.Scroll={setUp:function(){this.getClick(),this.getPosition(),this.showBackTop(),this.backTop(),this.sectionActive()},getClick:function(){var target,that;that=this,$(".nav-list").on("click","a",function(event){event.preventDefault(),target=$($(this).attr("href")),that.smoothScroll(target,85)})},smoothScroll:function(target,offset){$("html, body").animate({scrollTop:target.offset().top-offset},1500)},getPosition:function(){$(window).on("scroll",function(){$(document).scrollTop()>=345?$("#nav-primary").addClass("js-nav-active"):$(document).scrollTop()<=405&&$("#nav-primary").removeClass("js-nav-active")})},showBackTop:function(){$(window).on("scroll",function(){$(document).scrollTop()>=1885?$("#back-top").addClass("js-show"):$("#back-top").removeClass("js-show")})},backTop:function(){var that,target;that=this,$("#back-top").on("click",function(event){event.preventDefault(),target=$($(this).attr("href")),that.smoothScroll(target,0)})},sectionActive:function(){var that=this;$(document).on("scroll",that.markerSection)},markerSection:function(){var that,scrollPos;that=this,scrollPos=$(document).scrollTop()+115,$(".nav-item").each(function(){var currentElement=$(this),currentLink=$(this).children(),refElement=$(currentLink.attr("href"));refElement.position().top<=scrollPos&&refElement.position().top+refElement.height()>scrollPos?($(".nav-link").removeClass("js-nav-active"),currentElement.addClass("js-nav-active")):currentElement.removeClass("js-nav-active")})},progressBar:function(){var max,value,winHeight=$(window).height(),docHeight=$("main").height(),progressBar=$("progress");max=docHeight-winHeight,progressBar.attr("max",max),$(document).on("scroll",function(){value=$(window).scrollTop(),progressBar.attr("value",value)})}};var APP=APP||{};APP.Slide={setUp:function(){this.initSlide()},initSlide:function(){$("#slide").slick({dots:!0,infinite:!0,speed:500,fade:!0,slide:"figure",cssEase:"ease-out"})}};var APP=APP||{};APP.Request={setUp:function(){this.getClick()},getClick:function(){var href,text,that,sectionId;that=this,$(".request").on("click",function(event){event.preventDefault(),href=$(this).attr("href"),text=$(this).attr("href").replace(".html",""),sectionId=text,APP.Storage.getStorage(text,href,sectionId)})},ajax:function(url,key,sectionId){$.ajax({url:url,type:"GET",beforeSend:function(){console.log("Loading..")},success:function(data){$("#"+sectionId).html(data);var value=$("#"+sectionId).html();APP.Storage.convertString(key,value)},error:function(error){console.warn(error)}})}};var APP=APP||{};APP.Storage={setUp:function(){},convertString:function(chave,html){var that,string;that=this,string=JSON.stringify(html),that.insertLocalStorage(chave,string)},insertLocalStorage:function(text,string){localStorage.setItem(text,string)},getStorage:function(key,href,sectionId){var that=this;if(null==localStorage.getItem(key))APP.Request.ajax(href,key,sectionId);else{that.checkCapaticy(key);var href=JSON.parse(localStorage.getItem(key));$("#"+sectionId).html(href)}},checkCapaticy:function(key){var len,max;max=5126,len=localStorage.getItem(key).length,console.warn(max>=len?"Seu localStorage está com: "+Math.round(max-len)+"kb":"Seu localStorage está com: "+len)},searchToSend:function(){console.warn("Check if have data..");for(var data=[],i=0;i<localStorage.length;i++)data.push(localStorage.getItem(localStorage.key(i))),APP.Contact.sendForm(data);console.log("Data: ",data)}};var APP=APP||{};APP.Contact={setUp:function(){this.submitForm()},submitForm:function(){var formdata,that,email;that=this,$("#contact-form").on("submit",function(event){event.preventDefault(),formdata=$("#contact-form").serialize(),email=$("#contact-email").val(),that.checkStatus(email,formdata)})},checkStatus:function(email,formdata){var that=this;0==$("body").hasClass("js-offline")?that.sendForm(formdata):APP.Storage.insertLocalStorage(email,formdata)},sendForm:function(formdata){$.ajax({url:"send.php",type:"POST",data:formdata,beforeSend:function(){console.log("Sending...")},success:function(data){console.log(data)},error:function(error){console.warn(error)}})}};var APP=APP||{};APP.Modal={setUp:function(){this.modal(),this.lightbox()},modal:function(){$(".modal").fancybox({maxWidth:800,maxHeight:600,fitToView:!1,width:"70%",height:"70%",autoSize:!1,closeClick:!1,openEffect:"elastic",closeEffect:"fade"})},lightbox:function(){$(".lightbox").fancybox({prevEffect:"fade",nextEffect:"fade",closeBtn:!0,index:2,helpers:{title:{type:"inside"},buttons:{}}})}};var APP=APP||{};APP.EasterEggs={setUp:function(){this.checkPlatform()},checkPlatform:function(){var mobile,regex,that;that=this,regex=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i,mobile=regex.test(navigator.userAgent),mobile?that.activeWithGestures():that.activeWithText()},activeWithText:function(){cheet("h u m a n s",function(){window.open(document.URL+"humans.txt","Project Team")})},activeWithGestures:function(){var hammerPad,hitArea;hitArea=document.querySelector("#copyright"),hammerPad=new Hammer(hitArea),hammerPad.on("tap",function(event){event.pointers[0];if(event.type.match(/tap/g)){var tap=event.tapCount;console.log("Try again :)"),2===tap&&window.open(document.URL+"humans.txt","Project Team")}})}};